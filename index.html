<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>Mine City - Image System</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; background-color: #1a1a1a; color: white; margin: 0; padding: 20px; }
        .card { background-color: #2d2d2d; padding: 2.5rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); text-align: center; width: 420px; }
        h2 { color: #4CAF50; margin-bottom: 5px; }
        .sub-title { color: #aaa; font-size: 0.9rem; margin-bottom: 25px; }
        
        .section { background: #232323; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #333; text-align: left; }
        .section h3 { font-size: 0.95rem; margin-top: 0; color: #4CAF50; border-bottom: 1px solid #444; padding-bottom: 8px; margin-bottom: 12px; }
        
        label { display: block; font-size: 0.8rem; color: #888; margin-bottom: 5px; }
        input[type="text"] { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #444; background: #111; color: white; box-sizing: border-box; margin-bottom: 10px; font-size: 0.9rem; }
        input[type="file"] { margin: 5px 0 15px 0; width: 100%; color: #bbb; font-size: 0.85rem; }
        
        button { border: none; padding: 12px; border-radius: 5px; cursor: pointer; font-weight: bold; width: 100%; font-size: 0.95rem; transition: 0.3s; margin-top: 5px; }
        .btn-normal { background-color: #607D8B; color: white; }
        .btn-normal:hover { background-color: #455A64; }
        .btn-auto { background-color: #4CAF50; color: white; }
        .btn-auto:hover { background-color: #45a049; }
        
        #result-container { margin-top: 20px; display: none; padding: 15px; background: #3d3d3d; border-radius: 10px; border: 1px solid #555; }
        #id-display { font-size: 1.4rem; color: #ffd700; font-weight: bold; display: block; margin-bottom: 10px; letter-spacing: 2px; }
        .btn-copy { background-color: #2196F3; color: white; padding: 6px 12px; width: auto; font-size: 0.8rem; }
        
        .status-msg { font-size: 0.8rem; color: #888; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="card">
        <h2>üì± Mine City</h2>
        <p class="sub-title">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏π‡∏õ‡∏ï‡∏¥‡∏î‡∏ö‡∏±‡∏ï‡∏£ [ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏ô‡∏≤‡∏î 1:1 ]</p>
        
        <div class="section">
            <h3>[ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏™‡πà‡∏£‡∏π‡∏õ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å / ‡πÄ‡∏≠‡∏≤‡∏£‡∏´‡∏±‡∏™ ID ]</h3>
            <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:</label>
            <input type="file" id="fileNormal" accept="image/*">
            <button class="btn-normal" onclick="handleUpload('normal')">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏≤‡∏£‡∏´‡∏±‡∏™ ID</button>
        </div>

        <div class="section">
            <h3>[ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ‡∏ö‡∏±‡∏ï‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ]</h3>
            <label>Roblox UserId (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏≠‡∏î‡∏µ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£):</label>
            <input type="text" id="userIdInput" placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 12345678">
            <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡∏°‡πà:</label>
            <input type="file" id="fileAuto" accept="image/*">
            <button class="btn-auto" onclick="handleUpload('auto')">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏π‡∏õ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</button>
        </div>

        <div id="result-container">
            <span id="id-display">‡∏£‡∏´‡∏±‡∏™‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</span>
            <button class="btn-copy" id="copyBtn" onclick="copyId()">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™</button>
        </div>
        
        <p class="status-msg" id="status-text">Server Status: Online ‚úÖ</p>
    </div>

    <script>
        async function handleUpload(type) {
            const statusText = document.getElementById('status-text');
            const resultContainer = document.getElementById('result-container');
            const idDisplay = document.getElementById('id-display');
            const copyBtn = document.getElementById('copyBtn');
            
            let fileInput = (type === 'normal') ? document.getElementById('fileNormal') : document.getElementById('fileAuto');
            let userId = document.getElementById('userIdInput').value;

            if (fileInput.files.length === 0) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö!");
                return;
            }
            if (type === 'auto' && !userId) {
                alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Roblox UserId ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏±‡∏ö!");
                return;
            }

            // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
            idDisplay.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•...";
            resultContainer.style.display = "block";
            copyBtn.style.display = "none";
            statusText.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Mine City API...";

            const formData = new FormData();
            formData.append('image', fileInput.files[0]);
            
            // ‡∏™‡πà‡∏á userId ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Python (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠ userId ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà Python ‡∏£‡∏≠‡∏£‡∏±‡∏ö)
            if (type === 'auto') {
                formData.append('userId', userId); 
            }

            try {
